function validateMandatoryFields() 
{
	//Customer Fields Validation************************************************************
	var customerFields=['applicationtype~Application Type','applicanttype~Applicant type','existingcust~Existing Cutomer','custtitle~Title','custfirstname~First Name','custgender~Gender','custdob~Date of Birth','custlastname~Last Name','custmaritalstatus~Marital Status','custnationality~Nationality'];
	
	for(var i=0;i<customerFields.length;i++)
	{
		var arrayTypeAndField=customerFields[i].split('~');
		if(document.getElementById(arrayTypeAndField[0]).value=='')
		{
			alert(arrayTypeAndField[1]+" is mandatory.");
			document.getElementById(arrayTypeAndField[0]).focus(true);
			return false;
		}
		if(arrayTypeAndField[0]=='applicanttype')
		{
			if(document.getElementById("applicationtype").value=='Single' && document.getElementById(arrayTypeAndField[0]).value!='Primary')
			{
				alert("Only primary applicant is allowded if application type is single");
				return false;
			}
			var table =document.getElementById("CustDetailsGrid");
			var rowCount = table.rows.length;
			if(rowCount>1)//When no row added in grid
			{
				var flag=true;
				for (var i = 1; i < rowCount; i++) 
				{
					var currentrow = table.rows[i];
					if(currentrow.cells[1].innerHTML=='Primary' && document.getElementById('applicanttype').value=='Primary')
					{
						flag=false;
						break;
					}
					else
					flag=true;
				}
				if(!flag)
				{
					alert("Only one primary applicant is allowed.");
					return false;
				}
			}			
		}
		//validation on title field based on gender******************************
		if(arrayTypeAndField[0]=='custgender')
		{
			if(document.getElementById("custgender").value=='Male' && (document.getElementById("custtitle").value=='MS.' || document.getElementById("custtitle").value=='MRS.'))
			{
				alert("Title should be MR. for "+document.getElementById("custgender").value);
				document.getElementById("custtitle").focus(true);
				return false;
			}
			
			else if(document.getElementById("custgender").value=='Female' && document.getElementById("custtitle").value=='MR.')
			{
				alert("Title should be MRS./MS. for "+document.getElementById("custgender").value);
				document.getElementById("custtitle").focus(true);
				return false;
			}
		}	
		//**********************************************************************
	}
	//return true;
	if(document.getElementById("custfirstname").value.length + document.getElementById("custmiddlename").value.length + document.getElementById("custlastname").value.length > 80)
	{
	alert("Concatenated length of first,middle and last name should be less than 80 characters");
	return false;
	}
	
	//*******************************************************************************************
	
	//Identification document grid validation***************************************************
	var identificationTable=document.getElementById("identificationDocGrid");
	if(identificationTable.rows.length==3)
	{
	  alert('Please add identification documents in grid');
	  document.getElementById('identificationDocGrid').focus(true);
	  return false;
	}
	var arrayIdentificationDocFields=['identificationdoctype~Document Type','identificationdocno~Document No','docexpdate~Expiry Date','countryofissue~Country of Issue','placeofissue~Place of Issue'];
	for(var i=3;i<identificationTable.rows.length;i++)
	{
			for(var j=0;j<arrayIdentificationDocFields.length;j++)
			{
				var arrayIdLabel=arrayIdentificationDocFields[j].split('~');
				if(document.getElementById(arrayIdLabel[0]+i).value=='')
				{
					alert(arrayIdLabel[1]+" is mandatory for row "+(i-2));
					document.getElementById(arrayIdLabel[0]+i).focus(true);
					return false;
				}
					//Setting maxlength for Passport No**********************************************
					if(document.getElementById("identificationdoctype"+i).value=='Passport')
						{
							//sets the maxlength 
							document.getElementById("identificationdocno"+i).maxLength=9;
						}
					//Emirates Id validation**********************************************
					else if(document.getElementById("identificationdoctype"+i).value=='Emirates ID')
						{
							//alert("it is emirates ID--"+document.getElementById("identificationdocno"+i).value);
							document.getElementById("countryofissue"+i).value='UNITED ARAB EMIRATES';
							//alert("document.getElementById(countryofissue+i).value"+document.getElementById("countryofissue"+i).value);
							if(document.getElementById("identificationdocno"+i).value!='')
							{
							var EMID=document.getElementById("identificationdocno"+i).value;
							//Taking the value of 1st 2nd and 3rd position of Emirates ID field
							var EID=EMID.substring(0,3);
								if(EID=='784')
								{
									//sets the maxlength 
									document.getElementById("identificationdocno"+i).maxLength=15;
									
									var maxlength=document.getElementById("identificationdocno"+i).value.length;
									//checking whether it exceeds maxlength
									if(maxlength==21 || maxlength > document.getElementById("identificationdocno"+i).maxLength+1)
									{
										alert("Maxlength should be 15");
										document.getElementById("identificationdocno"+i).focus(true);
										document.getElementById("identificationdocno"+i).value='';
										return false;
									}
									else
									{
									//Customer DOB value in form
									var dob=document.getElementById("custdob").value;
									var	substring = "/";
									var yyyy="";
									var year="";
									if(dob.indexOf(substring) != -1)
									{
										yyyy=dob.split("/");
										//3rd parameter is the year
										year=yyyy[2];
									}
									
									else
									{
										//else case is handled when dedupe is performed
										substring = "-";
										if(dob.indexOf(substring) != -1)
										{
											yyyy=dob.split("-");
											//1st parameter is the year
											year=yyyy[0];
										}
									}									
									//taking the value of 4th 5th 6th and 7th position in emirates id field
									var EMID_year=EMID.substring(3,7);
		
									//validation for Customer DOB field and emirates id field
										if(year!=EMID_year)
										{
											alert("Customer DOB should match with Emirates ID value");
											document.getElementById("identificationdocno"+i).focus(true);
											document.getElementById("identificationdocno"+i).value='';
											return false;
										}
									}									
								}
								
								else if(EID=='800')
								{
									//sets the maxlength 
									document.getElementById("identificationdocno"+i).maxLength=21;
																		
									var maxlength=document.getElementById("identificationdocno"+i).value.length;
									//checking whether it exceeds maxlength
									if(maxlength==15 ||maxlength > document.getElementById("identificationdocno"+i).maxLength+1)
									{
										alert("Maxlength should be 21");
										document.getElementById("identificationdocno"+i).focus(true);
										document.getElementById("identificationdocno"+i).value='';
										return false;
									}
									else
									{
									//Customer DOB value in form
									var dob=document.getElementById("custdob").value;
									var	substring = "/";
									var yyyy="";
									var year="";
									if(dob.indexOf(substring) != -1)
									{
										yyyy=dob.split("/");
										//3rd parameter is the year
										year=yyyy[2];
									}
									
									else
									{
										//else case is handled when dedupe is performed
										substring = "-";
										if(dob.indexOf(substring) != -1)
										{
											yyyy=dob.split("-");
											//1st parameter is the year
											year=yyyy[0];
										}
									}
									
									//taking the value of 4th 5th 6th and 7th position in emirates id field
									var EMID_year=EMID.substring(3,7);
		
									//validation for Customer DOB field and emirates id field
										if(year!=EMID_year)
										{
											alert("Customer DOB should match with Emirates ID value");
											document.getElementById("identificationdocno"+i).focus(true);
											document.getElementById("identificationdocno"+i).value='';
											return false;
										}
									}
									
								}
								
								else
								{
									alert("Emirates ID should start with 784 or 800");
									document.getElementById("identificationdocno"+i).focus(true);
									return false;
								}
							
							}
						}
					//*****************************************************************
			}
	}
	
	if(!docTypevalidationForIdentificationGrid())
	return false;
	
	//Checking whether dedupe check performed or not
	if(document.getElementById("DedupeClick").value=='')
	{
		alert("Please perform dedupe check for the applicant");
		return false;
	}
	//Checking whether blacklist check performed or not
	if(document.getElementById("isBlackList").value=='')
	{
		alert("Please perform blacklist check for the applicant");
		return false;
	}
	//********************************************************************************************
	//Parent/Guardian Details Fields Validation**************************************************	
	 var value = document.getElementById("custdob").value ; 
	 var arrStartDate = value.split("/"); 
	 var currentTime = new Date();
	 var yearDiff = currentTime.getFullYear() - (arrStartDate[2]);
	 var preferredaddressField =['yearDiff~Relationship to Minor~relationshiptominor','yearDiff~Title~guardiantitle','yearDiff~First Name~guardianfirstname','yearDiff~Last Name~guardianlastname'];
	
	for(var i = 0; i<preferredaddressField.length ; i++)
	{
		var arrayPrefAddField = preferredaddressField[i].split('~');
		if(document.getElementById(arrayPrefAddField[2]).value =='')
		{
			if(yearDiff < 16)
			{
				alert(arrayPrefAddField[1]+" is mandatory.");
				document.getElementById(arrayPrefAddField[2]).disabled = false;
				document.getElementById(arrayPrefAddField[2]).focus(true);
				return false;
			}
			else
			document.getElementById(arrayPrefAddField[2]).disabled = true;	
		}
	}
	if(document.getElementById("guardianfirstname").value.length + document.getElementById("guardianmiddlename").value.length + document.getElementById("guardianlastname").value.length > 80)
	{
	alert("Concatenated length of first,middle and last name should be less than 80 characters");
	return false;
	}
	//***********************************************************************************************
	
	//Address Fields Validation************************************************************
	var addressFields=['restype~Residence type','prefermailaddr~Preferred Mailing Address'];
	for(var i=0;i<addressFields.length;i++)
	{
		var arrayTypeAndField=addressFields[i].split('~');
		if(document.getElementById(arrayTypeAndField[0]).value=='')
		{
			alert(arrayTypeAndField[1]+" is mandatory.");
			openHideDiv(document.getElementById(arrayTypeAndField[0]).parentNode.parentNode.parentNode.parentNode.parentNode.id);
			document.getElementById(arrayTypeAndField[0]).focus(true);
			return false;
		}
	}
	
	var preferredaddressField = 'prefermailaddr~Hold Mail Branch~holdmailbranch';
	var arrayPrefAddField = preferredaddressField.split('~');
	if(document.getElementById(arrayPrefAddField[2]).value == '')
	{
		if(document.getElementById(arrayPrefAddField[0]).value=='Hold Mail')
		{
			alert(arrayPrefAddField[1]+" is mandatory.");
			document.getElementById(arrayPrefAddField[2]).focus(true);
			return false;
		}
	}
	
	//*******************************************************************************************
	
	//Residence Address Fields Validation************************************************************
	var resAddressFields=['res_city~Emirates/City','res_pobox~P.O.Box','res_country~Country'];
	for(var i=0;i<resAddressFields.length;i++)
	{
		var arrayTypeAndField=resAddressFields[i].split('~');
		if(document.getElementById(arrayTypeAndField[0]).value=='')
		{
			alert(arrayTypeAndField[1]+" is mandatory.");
			openHideDiv(document.getElementById(arrayTypeAndField[0]).parentNode.parentNode.parentNode.parentNode.parentNode.id)
			document.getElementById(arrayTypeAndField[0]).focus(true);
			return false;
		}
	}
	//*******************************************************************************************
	
	//Home Country Address Fields Validation************************************************************
	var homeAddressFields=['home_city~Emirates/City','home_pobox~P.O.Box','home_country~Country'];
	for(var i=0;i<resAddressFields.length;i++)
	{
		var arrayTypeAndField=resAddressFields[i].split('~');
		if(document.getElementById(arrayTypeAndField[0]).value=='')
		{
			alert(arrayTypeAndField[1]+" is mandatory.");
			openHideDiv(document.getElementById(arrayTypeAndField[0]).parentNode.parentNode.parentNode.parentNode.parentNode.id)
			document.getElementById(arrayTypeAndField[0]).focus(true);
			return false;
		}
	}
	
	var preferredaddressField =['custnationality~City~home_city','custnationality~PO Box~home_pobox','custnationality~Country~home_country'];
	for(var i = 0; i<preferredaddressField.length ; i++)
	{
		var arrayPrefAddField = preferredaddressField[i].split('~');
		if(document.getElementById(arrayPrefAddField[2]).value == '')
		{
			if(document.getElementById(arrayPrefAddField[0]).value!='UNITED ARAB EMIRATES')
			{
				alert(arrayPrefAddField[1]+" is mandatory.");
				document.getElementById(arrayPrefAddField[2]).focus(true);
				return false;
			}	
		}
	}
	//*******************************************************************************************
	
	//Employment Details Fields Validation************************************************************
	var  employmentFields=['custemptype~Employment Type','custoccupation~Occupation'];
	for(var i=0;i<employmentFields.length;i++)
	{
		var arrayTypeAndField=employmentFields[i].split('~');
		if(document.getElementById(arrayTypeAndField[0]).value=='')
		{
			alert(arrayTypeAndField[1]+" is mandatory.");
			openHideDiv(document.getElementById(arrayTypeAndField[0]).parentNode.parentNode.parentNode.parentNode.parentNode.id);
			document.getElementById(arrayTypeAndField[0]).focus(true);
			return false;
		}
	}
	//*******************************************************************************************
	
	//Contact Details Fields Validation************************************************************
	var  contactdetailsFields=['contactpreferemailid~Preferred eMail ID','contactprefercontact~Preferred Contact'];
	for(var i=0;i<contactdetailsFields.length;i++)
	{
		var arrayTypeAndField=contactdetailsFields[i].split('~');
		if(document.getElementById(arrayTypeAndField[0]).value=='')
		{
			alert(arrayTypeAndField[1]+" is mandatory.");
			openHideDiv(document.getElementById(arrayTypeAndField[0]).parentNode.parentNode.parentNode.parentNode.parentNode.id);
			document.getElementById(arrayTypeAndField[0]).focus(true);
			return false;
		}
	}
	
	var preferredaddressField = 'contactpreferemailid~Email Id 1~contactemailid1';
		var arrayPrefAddField = preferredaddressField.split('~');
		if(document.getElementById(arrayPrefAddField[2]).value == '')
		{
			if(document.getElementById(arrayPrefAddField[0]).value=='eMail 1')
			{
				alert(arrayPrefAddField[1]+" is mandatory.");
				document.getElementById(arrayPrefAddField[2]).focus(true);
				return false;
			}
		}

	var preferredaddressField = 'contactpreferemailid~Email Id 2~contactemailid2';
		var arrayPrefAddField = preferredaddressField.split('~');
		if(document.getElementById(arrayPrefAddField[2]).value == '')
		{
			if(document.getElementById(arrayPrefAddField[0]).value=='eMail 2')
			{
				alert(arrayPrefAddField[1]+" is mandatory.");
				document.getElementById(arrayPrefAddField[2]).focus(true);
				return false;
			}
		}

	
	var preferredcontact1Field = ['contactprefercontact~Mobile Phone 1 ISD~contactmobile1_isd','contactprefercontact~Mobile Phone 1 Telephone~contactmobile1'];
	for(var i =0;i<preferredcontact1Field.length;i++)
	{
	var arrayPrefContact1Field = preferredcontact1Field[i].split('~');
	if(document.getElementById(arrayPrefContact1Field[2]).value == '')
	{
		if(document.getElementById(arrayPrefContact1Field[0]).value=='Mobile Phone 1')
		{
			alert(arrayPrefContact1Field[1]+" is mandatory.");
			document.getElementById(arrayPrefContact1Field[2]).focus(true);
			return false;
		}
	}
	}
		
	var preferredcontact2Field = ['contactprefercontact~Mobile Phone 2 ISD~contactmobile2_isd','contactprefercontact~Mobile Phone 2 Telephone~contactmobile2'];
	for(var i =0;i<preferredcontact2Field.length;i++)
	{
	var arrayPrefContact2Field = preferredcontact2Field[i].split('~');
		if(document.getElementById(arrayPrefContact2Field[2]).value == '')
		{
			if(document.getElementById(arrayPrefContact2Field[0]).value=='Mobile Phone 2')
			{
				alert(arrayPrefContact2Field[1]+" is mandatory.");
				document.getElementById(arrayPrefContact2Field[2]).focus(true);
				return false;
			}
		
		}
		}
				
	
	//*******************************************************************************************
	
	//Other Details Fields Validation************************************************************
	var  otherDetailsFields=['oth_custtype~Customer Type','oth_PEP~PEP','oth_segment~Segment','oth_subsegment~Sub-Segment'];
	for(var i=0;i<otherDetailsFields.length;i++)
	{
		var arrayTypeAndField=otherDetailsFields[i].split('~');
		if(document.getElementById(arrayTypeAndField[0]).value=='')
		{
			alert(arrayTypeAndField[1]+" is mandatory.");
			openHideDiv(document.getElementById(arrayTypeAndField[0]).parentNode.parentNode.parentNode.parentNode.parentNode.id);
			document.getElementById(arrayTypeAndField[0]).focus(true);
			return false;
		}
	}
	
	// KYC Details Fields Validations**************************************************************
	var KycField = ['KYC Review Date~kyc_reviewdate','Expected Monthly Credit Turn Over(Amount)~kyc_monthlycreditamount','Expected Monthly Credit Turn Over(Currency)~kyc_monthlycreditcurrency','Expected Monthly Credit Turn Over percentage~kyc_monthlycreditpercentage','Expected monthly Cash Credit turnover percentage~kyc_monthlycashpercentage','Expected montly Non-Cash credit turnover percentage~kyc_monthlynon_cashpercentage','Expected Highest Cash Credit Transaction (Amount)~kyc_highesttransactionamount','Expected Highest Cash Credit Transaction (Currency)~kyc_highesttransactioncurrency','Expected Highest Non-Cash Credit Transaction (Amount)~kyc_highestnoncash_amount','Expected Highest Non-Cash Credit Transaction (Currency)~kyc_highestnonnoncash_currency'];
	for(var i=0;i<KycField.length;i++)
	{
		var arrayKycFieldField = KycField[i].split('~');
		if(document.getElementById('kyc_held').value=='Y')
			{
				if(document.getElementById(arrayKycFieldField[1]).value == '')
				{
						alert(arrayKycFieldField[0]+" is mandatory.");
						openHideDiv(document.getElementById(arrayKycFieldField[1]).parentNode.parentNode.parentNode.parentNode.parentNode.id);
						document.getElementById(arrayKycFieldField[1]).focus(true);
						return false;
				}
			}
	}
	
	
	//*******************************************************************************************
	
	//Tax Details Fields Validation************************************************************
	var  taxDetailsFields=['aecbeligible~AECB Eligible','usrelation~US Relation','tax_cityofbirth~City of Birth','tax_countryofbirth~Country of Birth','crsundocumentedflag~CRS Undocumented Flag','crsundocumentedflagreason~CRS Undocumented Flag Reason'];
	for(var i=0;i<taxDetailsFields.length;i++)
	{
		var arrayTypeAndField=taxDetailsFields[i].split('~');
		if(document.getElementById(arrayTypeAndField[0]).value=='')
		{
			alert(arrayTypeAndField[1]+" is mandatory.");
			openHideDiv(document.getElementById(arrayTypeAndField[0]).parentNode.parentNode.parentNode.parentNode.parentNode.id);
			document.getElementById(arrayTypeAndField[0]).focus(true);
			return false;
		}
	}
	//*******************************************************************************************
	
	return true;
}

function OnDoneValidation(flag)
{

		//checkForUIDException();
		 var WSNAME = customform.document.getElementById("wdesk:CURRENT_WS").value;
		 
		 		
		if(flag=='I' || flag=='D')
		{
			var customerTable =customform.document.getElementById("OECDGrid");//Customer grid count check.if No row added the give alert and return false
			
			var customerTableCount = customerTable.rows.length;
			
			if(customerTableCount==1)//When no row added in grid
			{
				alert('Please add OECD details in grid');
				return false;
			}
						
			//this function is used to check mandatory document generation on done click. 
			/*var docgenStatus=DocumentGenerationValidation();
			if(!docgenStatus)
			return false;*/
			
			if(customform.document.getElementById("selectDecision").value=='')//Decision will always be mandatory for all workstep
			{
				alert('Decision is mandatory');
				customform.document.getElementById('selectDecision').focus(true);
				return false;
			}
		}
			
		
		/*if(WSNAME=="Control")
		{
			if(customform.document.getElementById("RETAIL_OR_CORPORATE").value=='Retail')
			{
				alert("RETAIL_OR_CORPORATE field -----"+customform.document.getElementById("RETAIL_OR_CORPORATE").value);
				/*customform.document.getElementById('wdesk:RETAIL_OR_CORPORATE').focus(true);
				return false;
			}
			
			else if(customform.document.getElementById("RETAIL_OR_CORPORATE").value=='Corporate')
			{
				alert("RETAIL_OR_CORPORATE field -----"+customform.document.getElementById("RETAIL_OR_CORPORATE").value);
				/*customform.document.getElementById('wdesk:RETAIL_OR_CORPORATE').focus(true);
				return false;
			}
			
			else
			{
				alert("Please enter RETAIL_OR_CORPORATE field as either 'RETAIL' or 'CORPORATE' and click save button");
				customform.document.getElementById('RETAIL_OR_CORPORATE').focus(true);
				return false;				
			}
		}*/
	
		if(WSNAME=="Attach_Cust_Doc")
		{
				 //Document attach validation
				if(document.getElementById('wdesk:docCombo').value!='')
				{
					customform.document.getElementById("wdesk:IS_DOC_ATTACHED").value='Yes';
					alert("Document is attached in "+WSNAME);		
				}
				else
				{		
					customform.document.getElementById("wdesk:IS_DOC_ATTACHED").value='No';
					alert("Document is not attached in "+WSNAME);
				}
		}
		
		if(WSNAME=="OPS_Maker")
		{
			
			if(customform.document.getElementById("selectDecision").value=="Approve")
			{
				if(customform.document.getElementById("wdesk:SIGN_MATCHED_MAKER").value=='' || customform.document.getElementById("wdesk:SIGN_MATCHED_MAKER").value== null)
				{
					alert("Please verify signatures while selecting 'Approve' as decision");
					customform.document.getElementById('ViewSignature').focus();
				
					return false;
				}
				else if(customform.document.getElementById("wdesk:SIGN_MATCHED_MAKER").value!='' && customform.document.getElementById("wdesk:SIGN_MATCHED_MAKER").value == 'No')
				{
					alert("Signatures should be matched before selecting 'Approve' as decision");
					customform.document.getElementById('ViewSignature').focus();
					return false;
				}
				
			}
		}
		
		if(WSNAME=="OPS_Checker")
		{
			if(customform.document.getElementById("selectDecision").value=="Approve")
			{
				
				if(customform.document.getElementById("wdesk:SIGN_MATCHED_CHECKER").value==''||customform.document.getElementById("wdesk:SIGN_MATCHED_CHECKER").value==null)
				{
					alert("Please verify signatures while selecting 'Approve' as decision");
				
					customform.document.getElementById("ViewSignature").focus();
					
					return false;
				}
				else if(customform.document.getElementById("wdesk:SIGN_MATCHED_CHECKER").value!='' && customform.document.getElementById("wdesk:SIGN_MATCHED_CHECKER").value == 'No')
				{
					alert("Signatures should be matched before selecting 'Approve' as decision otherwise select decision as reject if signature is not matched");
					customform.document.getElementById("ViewSignature").focus();
					return false;
				}
				
			}
		}
		
		
		/*if(WSNAME=='"CBWC_Checker"')
		{
			var returnUIDRaiseFlag=checkForUIDException();
			if(returnUIDRaiseFlag)
			{
				if(customform.document.getElementById("selectDecision").value!='Exception Approval Required')
				{
				 alert('Please select decision Exception Approval Required');
				 return false;
				}
			}
			return false;
		}*/  
	
		if(customform.document.getElementById("selectDecision").value=='Reject'||customform.document.getElementById("selectDecision").value=='Reject to OPS Maker' || customform.document.getElementById("selectDecision").value=='Reject to OPS Data Entry Maker')
		{
			if(customform.document.getElementById("remarks").value== "")
			{
			  alert("Please provide remarks");
			  customform.document.getElementById('remarks').focus(true);
			  return false;
			}
			if(customform.document.getElementById('rejReasonCodes').value=='' || customform.document.getElementById('rejReasonCodes').value=='NO_CHANGE')
			{
			  alert("Please provide reject reason.");
			  customform.document.getElementById('RejectReason').focus(true);
			  return false;
			}
		}			
		return true;	
}
function AttachedDocType(sDocTypeNames){
    var arrAvailableDocList = window.parent.getInterfaceData("D");
    var arrSearchDocList = sDocTypeNames.split(",");
	//alert("arrSearchDocList"+arrSearchDocList);
    var bResult=false;
    // condition added for not to check mandatory when decision is reject on 05092017
    
        
            for(var iSearchCounter=0;iSearchCounter<arrSearchDocList.length;iSearchCounter++){
                bResult=false;
					for(var iDocCounter=0;iDocCounter<arrAvailableDocList.length;iDocCounter++){
						//alert("arrSearchDocList---"+arrSearchDocList[iSearchCounter]);
						//alert("arrAvailableDocList---"+arrAvailableDocList[iDocCounter].name);
						if(arrAvailableDocList[iDocCounter].name == arrSearchDocList[iSearchCounter]){
	 
							bResult = true;
							break;
						}
					}
				}
                if(!bResult){
                    //alert("Please attach " + arrSearchDocList[iSearchCounter]+" to proceed further.");
                    return false;
                }
            
        
    
    return true;
}
function docTypevalidationForIdentificationGrid()
{
	if(document.getElementById("custcntryofres").value=='UNITED ARAB EMIRATES')
	{
		var identificationTable=document.getElementById("identificationDocGrid");
		var mandatEDocType='Emirates ID,Marsoon ID';
		var Matchflag=true;
		for(var i=3;i<identificationTable.rows.length;i++)
		{
					if(mandatEDocType.indexOf(document.getElementById('identificationdoctype'+i).value)==-1){
						Matchflag=false;
					}else{
						Matchflag=true;
						break;
					}
		}
		if(!Matchflag)
		{
			alert("Document Type 'Emirates ID' or 'Emirated ID Registration Form' or 'Marsoon ID' should be added, if 'Country of Residence' is selected as UNITED ARAB EMIRATES");
			return false;
		}
	}
	if(document.getElementById("custnationality").value!='UNITED ARAB EMIRATES')
	{
		var identificationTable=document.getElementById("identificationDocGrid");
		var mandatEDocType='Passport';
		var Matchflag=true;
		for(var i=3;i<identificationTable.rows.length;i++)
		{
					if(mandatEDocType.indexOf(document.getElementById('identificationdoctype'+i).value)==-1)
					{
						Matchflag=false;
					}
					else
					{
						Matchflag=true;
						break;
					}
		}
		if(!Matchflag)
		{
			alert("Document Type 'Passport' should be added, if 'Nationality' is NOT selected as UNITED ARAB EMIRATES");
			return false;
		}
	}
	return true
}	
function getApplicantDetails(applicanyType)
{
	var table =customform.document.getElementById("CustDetailsGrid");
	var rowCount = table.rows.length;
	var flagMinor='false';
	var FieldValuesArray=''
	if(rowCount>1)//When no row added in grid
	{
		for (var i = 1; i < rowCount; i++) 
		{
			var currentrow = table.rows[i];
			if(currentrow.cells[1].innerHTML==applicanyType)
			{
				var currDate = new Date();
				var dob =customform.document.getElementById('custdob'+i).innerHTML;
				var arrStartDate = dob.split("/");
				var yearDiff = currDate.getFullYear() - (arrStartDate[2]);
				if (yearDiff < 16) 
				{
					flagMinor='true';
				}
				var existingcust=customform.document.getElementById('existingcust'+i).innerHTML;
				var NoOfDependent=customform.document.getElementById('custnoofdependents'+i).innerHTML;
				var isMinor=flagMinor;
				FieldValuesArray=(existingcust+'#'+NoOfDependent+'#'+isMinor);
				break;
			}
			else
			{
				FieldValuesArray='NOTFOUND#NOTFOUND';
			}
		}
	}
	return FieldValuesArray;
}		
function DocumentGenerationValidation()
{	
	var accounttable = customform.document.getElementById("AccountGrid");//Account grid count check.if No row added the give alert and return false
	var customerTable =customform.document.getElementById("CustDetailsGrid");
	//var customerTableCount = customerTable.rows.length;
	//For Application form conventional and Islamic validation
	for(var i=3;i<accounttable.rows.length;i++)
	{
			if(customform.document.getElementById('accounttype'+i).value=='Conventional Account' && customform.document.getElementById('wdesk:PDF_GENFLAG_APP_FORM_CONVENTIONAL').value=='')
			{
				alert("Please generate Application Form Conventional.");
				return false;
			}
			/*if(customform.document.getElementById('accounttype'+i).value=='Islamic Account')
			{
				alert("Please generate Application Form Islamic.");
				return false;
			}*/
	}
	var arrayReturnValues=getApplicantDetails('Primary').split('#');
	if(arrayReturnValues[2]=='true' && customform.document.getElementById('wdesk:PDF_GENFLAG_MINOR_CONSENT_FORM_PRIMARY').value=='')
	{
			alert("Please generate Minor Consent Form.");
			return false;
	}
	if(customform.document.getElementById('wdesk:PDF_GENFLAG_KYC_PRIMARY').value=='')
	{
		alert("Please generate KYC form for Primary applicant.");
		return false;
	}
	var arrayReturnValues=getApplicantDetails('Joint').split('#');
	if(arrayReturnValues[0]!='NOTFOUND')
	{
		if(customform.document.getElementById('wdesk:PDF_GENFLAG_KYC_JOINT').value=='')
		{
			alert("Please generate KYC form for Joint 1 applicant.");
			return false;
		}
	}
	if(customform.document.getElementById('wdesk:PDF_GENFLAG_FATCA_DECLARE_PRIMARY').value=='')
	{
			alert("Please generate FATCA Declaration Form for Primary customer.");
			return false;
	}
	var arrayReturnValues=getApplicantDetails('Joint').split('#');
	if(arrayReturnValues[0]!='NOTFOUND')
	{
		if(customform.document.getElementById('wdesk:PDF_GENFLAG_FATCA_DECLARE_JOINT').value=='')
		{
			alert("Please generate FATCA Declaration Form for Joint customer.");
			return false;
		}
	}
	var arrayReturnValues=getApplicantDetails('Primary').split('#');
	if(arrayReturnValues[0]=='No')
	{
		if(customform.document.getElementById('wdesk:PDF_GENFLAG_CRS_INDIVIDUAL_PRIMARY').value=='')
		{
			alert("Please generate CRS (OECD) Individual Form for Primary customer.");
			return false;
		}
	}
	var arrayReturnValues=getApplicantDetails('Joint').split('#');
	var noOfjointApplicant=customform.document.getElementById('wdesk:NO_OF_JOINT_APPLICANTS').value;
	if(arrayReturnValues[0]=='No' && noOfjointApplicant=='1')
	{
		if(customform.document.getElementById('wdesk:PDF_GENFLAG_CRS_INDIVIDUAL_JOINT').value=='')
		{
			alert("Please generate CRS (OECD) Individual Form for Joint customer.");
			return false;
		}
	}
	if(customform.document.getElementById('wdesk:PDF_GENFLAG_CHECKLIST_AO').value=='')
	{
		alert("Please generate Checklist-Personal Account Opening Form.");
		return false;
	}
	if(customform.document.getElementById('wdesk:PDF_GENFLAG_FATCA_INDIVIDUAL_CHEKLIST').value=='')
	{
		alert("Please generate FATCA Individual Checklist Form.");
		return false;
	}
	/*if(customform.document.getElementById('wdesk:wdesk:VIEW_SIGNATURE_GENFLAG_PRIMARY').value=='')
	{
		alert("Please View Signature for : Primary.");
		return false;
	}
	var arrayReturnValues=getApplicantDetails('Joint').split('#');
	if(arrayReturnValues[0]!='NOTFOUND')
	{
		if(customform.document.getElementById('wdesk:VIEW_SIGNATURE_GENFLAG_JOINT').value=='')
		{
			alert("Please View Signature for : Joint1.");
			return false;
		}
	}*/	
	return true;
}
function getDateTime() 
{
	var monthNames = new Array("Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec");
	now = new Date();
	year = "" + now.getFullYear();
	month = "" + monthNames[now.getMonth()];
	day = "" + now.getDate(); if (day.length == 1) { day = "0" + day; }
	hour = "" + now.getHours(); if (hour.length == 1) { hour = "0" + hour; }
	minute = "" + now.getMinutes(); if (minute.length == 1) { minute = "0" + minute; }
	second = "" + now.getSeconds(); if (second.length == 1) { second = "0" + second; }
	return day + "/" + month + "/" + year + "  " + hour + ":" + minute + ":" + second;
}
function checkForUIDException()
{
	var flag=true;
	var OECDTable=customform.document.getElementById("uidtable");
	if(OECDTable.rows.length>3)
	{
	  //then need to raise UID Exception
	  var WSNAME = customform.document.getElementById("wdesk:CURRENT_WS").value;
	  var currCheckList=customform.document.getElementById('H_CHECKLIST').value;
	  var currUser='amitabh';
	  alert('found '+currCheckList.indexOf('1~[Raised'));
	  if(currCheckList.indexOf('1~[Raised')==-1)//Means this exception is not raised as of now 1-means UID exception
	  {
		if(currCheckList=='')
		currCheckList='1~[Raised-'+currUser+'-'+WSNAME+'-'+getDateTime()+']';
		else
		currCheckList=currCheckList+'#'+'1~[Raised-'+currUser+'-'+WSNAME+'-'+getDateTime()+']';
		
		customform.document.getElementById('H_CHECKLIST').value=currCheckList;
		flag=true;
	  }
	  else
	  flag=false;
	}
	else
	flag=false;
	
	return flag;
}